{"code":"import * as tslib_1 from \"tslib\";\r\nimport { Directive, ElementRef } from '@angular/core';\r\nimport { AngularLinkedInService } from './angular-linkedin.service';\r\nimport { BehaviorSubject } from 'rxjs';\r\nvar AngularLinkedInDirective = /** @class */ (function () {\r\n    function AngularLinkedInDirective(el, empservice) {\r\n        this.el = el;\r\n        this.empservice = empservice;\r\n        this.userDetails = new BehaviorSubject([]);\r\n    }\r\n    // ngAfterViewInit() {\r\n    //     let content: string = this.el.nativeElement.innerHTML;\r\n    //     if (!content) {//if there is no content,show message getting from AngularLinkedInService\r\n    //         this.el.nativeElement.innerHTML = this.empservice.get();\r\n    //     }\r\n    // }\r\n    AngularLinkedInDirective.prototype.loadLinkEdinScript = function (key) {\r\n        var that = this;\r\n        var script = document.createElement(\"script\");\r\n        script.src = this.url;\r\n        script.text = \"api_key:\" + key;\r\n        script.onload = function () {\r\n            IN.Event.on(IN, \"auth\", getProfileData);\r\n            function getProfileData() {\r\n                IN.API.Profile(\"me\").fields(\"id\", \"first-name\", \"last-name\", \"headline\", \"location\", \"picture-url\", \"public-profile-url\", \"email-address\").result(displayProfileData).error(onError);\r\n            }\r\n            function displayProfileData(data) {\r\n                var user = data.values[0];\r\n                var userArray = [];\r\n                userArray.push(user);\r\n                that.userDetails.next(userArray);\r\n            }\r\n            function onError(error) {\r\n                console.log(\"Error\", error);\r\n            }\r\n        };\r\n        document.body.appendChild(script);\r\n        //document.body.appendChild(document.createElement(\"script\")).src = this.url;\r\n    };\r\n    AngularLinkedInDirective.prototype.login = function () {\r\n        this.userDetails.subscribe(function (res) {\r\n            if (res) {\r\n                console.log(\"linkedInDetails\", res);\r\n            }\r\n        }, function (error) {\r\n            console.log(error);\r\n        });\r\n        this.empservice.login(IN).then(function (res) {\r\n            console.log(res);\r\n        }).catch(function (err) {\r\n            console.log(err);\r\n        });\r\n    };\r\n    AngularLinkedInDirective.prototype.initLinkedIn = function (key) {\r\n        this.loadLinkEdinScript(key);\r\n    };\r\n    AngularLinkedInDirective = tslib_1.__decorate([\r\n        Directive({ selector: '[angularlinked]' }),\r\n        tslib_1.__metadata(\"design:paramtypes\", [ElementRef,\r\n            AngularLinkedInService])\r\n    ], AngularLinkedInDirective);\r\n    return AngularLinkedInDirective;\r\n}());\r\nexport { AngularLinkedInDirective };\r\n//# sourceMappingURL=angular-linkedin.directive.js.map","map":"{\"version\":3,\"file\":\"angular-linkedin.directive.js\",\"sourceRoot\":\"\",\"sources\":[\"../../lib/angular-linkedin.directive.ts\"],\"names\":[],\"mappings\":\";AAAA,OAAO,EAAE,SAAS,EAAE,UAAU,EAAiB,MAAM,eAAe,CAAC;AACrE,OAAO,EAAE,sBAAsB,EAAE,MAAM,4BAA4B,CAAC;AACpE,OAAO,EAAE,eAAe,EAAE,MAAM,MAAM,CAAC;AAGvC;IAGI,kCAAoB,EAAc,EACtB,UAAkC;QAD1B,OAAE,GAAF,EAAE,CAAY;QACtB,eAAU,GAAV,UAAU,CAAwB;QAF9C,gBAAW,GAAG,IAAI,eAAe,CAAC,EAAE,CAAC,CAAC;IAKtC,CAAC;IAED,sBAAsB;IACtB,6DAA6D;IAC7D,+FAA+F;IAC/F,mEAAmE;IACnE,QAAQ;IACR,IAAI;IAEJ,qDAAkB,GAAlB,UAAmB,GAAG;QAClB,IAAM,IAAI,GAAG,IAAI,CAAC;QAClB,IAAI,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;QAC9C,MAAM,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC;QACtB,MAAM,CAAC,IAAI,GAAG,UAAU,GAAG,GAAG,CAAA;QAC9B,MAAM,CAAC,MAAM,GAAG;YACZ,EAAE,CAAC,KAAK,CAAC,EAAE,CAAC,EAAE,EAAE,MAAM,EAAE,cAAc,CAAC,CAAC;YACxC;gBACI,EAAE,CAAC,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,IAAI,EAAE,YAAY,EAAE,WAAW,EAAE,UAAU,EAAE,UAAU,EAAE,aAAa,EAAE,oBAAoB,EAAE,eAAe,CAAC,CAAC,MAAM,CAAC,kBAAkB,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;YACzL,CAAC;YAED,4BAA4B,IAAI;gBAC5B,IAAM,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;gBAC5B,IAAM,SAAS,GAAG,EAAE,CAAC;gBACrB,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;gBACrB,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,SAAS,CAAC,CAAA;YACpC,CAAC;YACD,iBAAiB,KAAK;gBAElB,OAAO,CAAC,GAAG,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC;YAChC,CAAC;QACL,CAAC,CAAA;QAED,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;QAClC,6EAA6E;IACjF,CAAC;IAED,wCAAK,GAAL;QAGI,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,UAAC,GAAG;YAC3B,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;gBACN,OAAO,CAAC,GAAG,CAAC,iBAAiB,EAAE,GAAG,CAAC,CAAC;YACxC,CAAC;QACL,CAAC,EAAE,UAAC,KAAK;YACL,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;QACvB,CAAC,CAAC,CAAA;QACF,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,UAAC,GAAG;YAC/B,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACrB,CAAC,CAAC,CAAC,KAAK,CAAC,UAAC,GAAG;YACT,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACrB,CAAC,CAAC,CAAA;IACN,CAAC;IAGD,+CAAY,GAAZ,UAAa,GAAG;QACZ,IAAI,CAAC,kBAAkB,CAAC,GAAG,CAAC,CAAC;IACjC,CAAC;IA/DQ,wBAAwB;QADpC,SAAS,CAAC,EAAE,QAAQ,EAAE,iBAAiB,EAAE,CAAC;iDAIf,UAAU;YACV,sBAAsB;OAJrC,wBAAwB,CAgEpC;IAAD,+BAAC;CAAA,AAhED,IAgEC;SAhEY,wBAAwB\"}","dts":{"name":"/home/nits-50/Desktop/linkedin/angular-linkedin.directive.d.ts","text":"import { ElementRef } from '@angular/core';\r\nimport { AngularLinkedInService } from './angular-linkedin.service';\r\nimport { BehaviorSubject } from 'rxjs';\r\nexport declare class AngularLinkedInDirective {\r\n    private el;\r\n    private empservice;\r\n    url: '//platform.linkedin.com/in.js';\r\n    userDetails: BehaviorSubject<any[]>;\r\n    constructor(el: ElementRef, empservice: AngularLinkedInService);\r\n    loadLinkEdinScript(key: any): void;\r\n    login(): void;\r\n    initLinkedIn(key: any): void;\r\n}\r\n"}}
